(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{345:function(t,r,e){"use strict";e.r(r);var _=e(10),n=Object(_.a)({},(function(){var t=this,r=t._self._c;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"火焰图-flame-graph"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#火焰图-flame-graph"}},[t._v("#")]),t._v(" 火焰图（Flame Graph）")]),t._v(" "),r("blockquote",[r("p",[t._v("火焰图（Flame Graph）是由 Linux 性能优化大师 Brendan Gregg 发明的，和所有其他的 profiling 方法不同的是，火焰图以一个全局的视野来看待时间分布，它从底部往顶部，列出所有可能导致性能瓶颈的调用栈。")])]),t._v(" "),r("p",[t._v("火焰图整个图形看起来就像一个跳动的火焰，这就是它名字的由来。")]),t._v(" "),r("p",[t._v("火焰图有以下特征（这里以 on-cpu 火焰图为例）：")]),t._v(" "),r("ul",[r("li",[t._v("每一列代表一个调用栈，每一个格子代表一个函数")]),t._v(" "),r("li",[t._v("纵轴展示了栈的深度，按照调用关系从下到上排列。最顶上格子代表采样时，正在占用 cpu 的函数。")]),t._v(" "),r("li",[t._v("横轴的意义是指：火焰图将采集的多个调用栈信息，通过按字母横向排序的方式将众多信息聚合在一起。需要注意的是它并不代表时间。")]),t._v(" "),r("li",[t._v("横轴格子的宽度代表其在采样中出现频率，所以一个格子的宽度越大，说明它是瓶颈原因的可能性就越大。")]),t._v(" "),r("li",[t._v("火焰图格子的颜色是随机的暖色调，方便区分各个调用信息。")]),t._v(" "),r("li",[t._v("其他的采样方式也可以使用火焰图， on-cpu 火焰图横轴是指 cpu 占用时间，off-cpu 火焰图横轴则代表阻塞时间。")]),t._v(" "),r("li",[t._v("采样可以是单线程、多线程、多进程甚至是多 host，进阶用法可以参考附录进阶阅读。")])]),t._v(" "),r("hr"),t._v(" "),r("p",[t._v("参考文章：")]),t._v(" "),r("p",[r("a",{attrs:{href:"https://mp.weixin.qq.com/s/GFPMIJGT4x6Q_86ZZfOOpg",target:"_blank",rel:"noopener noreferrer"}},[t._v("程序员精进之路：性能调优利器--火焰图"),r("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=n.exports}}]);